# Linux

## 网络连接的三种模式

桥接模式：虚拟系统可以和外部系统通讯，但是容易造成IP冲突

NAT模式：网络地址转化模式，虚拟系统可以和外部系统通讯，不造成IP冲突

主机模式：一个独立的系统

## 虚拟机克隆

+ 方式1，直接拷贝一份安装好的虚拟机文件。
+ 方式2，使用VMware的克隆操作。

## 虚拟机快照

如果在使用虚拟机系统的时候，你想回到原先的某一状态，也就是担心可能有些误操作造成系统异常，需要回到原先某个正常运行状态，就叫快照管理。

## 虚拟机的迁移和删除

虚拟机的的本质是文件。隐藏虚拟系统的迁移很方便，你可以把安装好的虚拟系统这个文件夹整体拷贝或剪切。删除就直接删除，或者使用VMware。

## VMtools



## Linux目录结构

1. Linux的文件系统是采用层级的树状目录，最上层是根目录"/"，然后在此目录下在创建其它目录。
2. 在Linux世界里，一切皆文件。

### 常用目录

/bin目录：存放最常用的指令

/sbin：s就是Super User，存放是系统管理员使用的系统管理程序

/home：存放普通用户的主目录，在Linux里每个用户都有自己的目录。

/root：是系统管理员用户的主目录。

/etc：所有系统管理所需要的配置文件和子目录。

/usr：用户安装的应用程序存放在这个文件中

/boot：存放Linux启动相关文件

/dev：类型于windows的设备管理，把所有的硬件用文件形式管理。

/media：Linux系统会自动识别一些设备，识别后挂载到这个目录下。

/mnt：系统提供改目录为用户进行临时挂机文件的目录。

/opt：安装软件所存放的目录。

/usr/local：给主机安装额外软件的目录。

/var：存放不断变化扩充的目录，常存放日志。

## 远程登陆Linux服务器

一般使用Xshell来远程登陆，使用Xftp来进行文件传输。

## vi和vim的基本接受

Linux系统会内置vi文本编辑器。

vim可以理解为vi的升级版，具有更多的功能。

vi和vim的三种模式：

+ 正常模式
+ 插入模式
+ 命令行模式

vim常用快捷方式：

1. 拷贝当前行yy，拷贝接下来5行5yy，粘贴输入p
2. 删除当前行dd，同理多行5dd
3. 在文件中查找某个单词，进入命令行模式，输入要想查找的单词。
4. 回到文件最末行[G]和最首行[gg]
5. 撤销动作输入u
6. 快速定位到20行，输入20，在输入shift+g

## Linux的开机、重启和用户登录注销

+ 基本介绍

  shutdown -h now 立刻关机

  shutdown -h 1 "hello，1分钟后会关机了"   会给系统的所有人员发送一条要关机的消息

  shutdown -r now 现在关机重启

  halt 关机，作用和上面一样

  reboot  现在关机重启

  sync   把内存同步到磁盘

### 用户的登录和注销

+ 基本介绍

  1. 登录的时候经量少使用root账号，避免操作失误。

     切换用户su -用户名 

  2. 注销用户logout

+ 使用细节

  1. logout在图形界面是无效的，要在运行级别3

### 用户管理

Linux是一个多用户多任务的操作系统

+ 用户添加

  useradd 用户名

  当创建用户的时候，会自动的创建和用户同名的家目录

  指定目录 useradd -d 目录 用户名

+ 指定和修改密码

  passwd 用户名

  如果没输入用户名修改当前用户的密码

+ 删除用户

  userdel 用户名

  + 删除的两种情况
    1. 删除用户但是保留家目录 userdel 用户名
    2. 删除用户并且连同家目录一起删除 userdel -r 用户名

+ 查询用户信息

  id 用户名

+ 切换用户

  su -用户名

  细节说明

  从权限高得用户切换到权限低的用户是不需要输入密码的，反之则需要输入密码。

+ 查看当前用户信息

  who a mi

  显示第一次登录的用户信息，切换用户不改变

+ 用户组

  + 介绍

    类似于角色，将有共性的角色分为一组。

  + 新增组

    groupadd 组名

  + 删除组

    groupdel 组名

  + 增加用户直接上组

    useradd -g 用户组 用户名

  + 切换组

    usermod -g 组名 用户名

## 实用指令

### 指定运行级别

+ 基本介绍

  0：关机

  1：单用户（找回丢失界面）

  2：多用户状态没有网络

  3：多用户状态有网络

  4：系统保留给用户

  5：图形界面

  6：系统重启

+ 使用：init[0123456]来切换不同的运行级别。

+ 指定运行级别

  获取默认的运行级别：

  systemctl get-default

  设置运行级别

  centos一般只有两个级别3和5

  级别3：multi-user.target

  级别5：graphical.target

  systemctl set-default 设置的级别

+ 找回root用户密码

  1. 在启动Linux的时候，进入开机界面按”e“
  2. 进入编辑界面，使用鼠标上下移动，找到以”Linux16“开头的内容在最后输入：init=/bin/sh
  3. 输入Ctrl+x进入单用户模式
  4. 输入：mount -o remount,rw /
  5. 输入passwd
  6. 设置重新输入的密码
  7. 输入touch /.autorelabel
  8. 执行exec /sbin/init 等待一段时间，系统自动重启重新设置的密码就生效了

+ 帮助指令

  + man
  + help

## Linux文件目录命令

+ ls ：显示目录下的文件

+ cd：切换目录

+ mkdir：创建目录

  -p：创建多级目录

+ rmdir：删除目录

  如果要删除带有文件的目录需要使用rm -rf 目录名

+ touch：创建一个空文件

+ cp：cp 选项 source dest

  -r：递归拷贝目录下的所有文件，包括目录本身

  强制覆盖不提示的方法：\cp

+ rm指令

  rm 选项

  -r：递归删除整个目录

  -f：强制删除不提示

+ mv指令

  mv移动文件与目录或重命名

  mv oldNameFile newNameFile

  mv  文件 文件 (移动文件)

  可以移动的同时重命名

+ cat

  -n：显示行号

+ less

  less可以分屏查看文件，less显示文件的时候是动态加载的，所以加载效率较快。

  less 要查看的文件

+ echo

  输出内容到控制台

  echo [选项] [输出内容]

+ head

  head用于显示文件前10行

  -n：显示指定行

+ tail

  tail显示末尾10行

  -n [选项]：显示末尾多少行

  -f：实时追踪文档的更新

+ \> 和 \>\>输出重定向

  \>覆盖原本的内容

  \>\>追加文本内容

+ ln

  软链接也称符号链接，类似于快捷方式

  ln -s [原文件或目录] [链接名]

  删除软链接

  rm [原件或目录]

+ history

  history [编号]：执行改编号对应的历史记录的指令

## 时间日期类指令

基本语法

1. date 显示当前时间

2. date +%Y 显示当前年份

3. date +%m 显示当前月份

4. date +%d 显示当前是那一天

5. date "+%Y-%m-%d:%H-%M-%S" 显示年月日时分秒

6. date -s "时间"

   设置对应的时间

7. cal 显示当前日历

## 查找相关的指令

